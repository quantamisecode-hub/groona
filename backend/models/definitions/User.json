{
  "name": "User",
  "type": "object",
  "properties": {
    "email": {
      "type": "string",
      "description": "User email address",
      "unique": true
    },
    "password": {
      "type": "string",
      "description": "Hashed password"
    },
    "full_name": {
      "type": "string",
      "description": "User's full name"
    },
    "role": {
      "type": "string",
      "enum": [
        "owner",
        "admin",
        "manager",
        "member",
        "guest",
        "user",
        "viewer",
        "sales",
        "project_manager",
        "client"
      ],
      "default": "member",
      "description": "User role in the system"
    },
    "custom_role": {
      "type": "string",
      "description": "Specific job title (e.g. Sales, Viewer)",
      "default": "viewer"
    },
    "job_title": {
      "type": "string",
      "description": "User's professional title (e.g. Senior Developer)"
    },
    "tenant_id": {
      "type": "string"
    },
    "working_hours_start": {
      "type": "string"
    },
    "working_hours_end": {
      "type": "string"
    },
    "working_days": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "client_id": {
      "type": "string",
      "description": "ID of the Client Organization this user belongs to"
    },
    "active_tenant_id": {
      "type": "string",
      "description": "ID of the tenant the user is currently viewing"
    },
    "is_super_admin": {
      "type": "boolean",
      "default": false,
      "description": "Platform-level admin access"
    },
    "is_two_factor_enabled": {
      "type": "boolean",
      "default": false,
      "description": "Enforce 2FA for this user"
    },
    "profile_image_url": {
      "type": "string",
      "description": "URL to avatar image"
    },
    "department": {
      "type": "string",
      "description": "Department name"
    },
    "phone_number": {
      "type": "string",
      "description": "Contact number"
    },
    "ctc_per_annum": {
      "type": "number",
      "description": "Cost to Company per year"
    },
    "working_days_per_month": {
      "type": "number",
      "description": "Number of working days in a month"
    },
    "working_hours_per_day": {
      "type": "number",
      "description": "Number of working hours per day"
    },
    "ctc_per_month": {
      "type": "number",
      "description": "Cost to Company per month (Calculated)"
    },
    "total_monthly_working_hours": {
      "type": "number",
      "description": "Total working hours per month (Calculated)"
    },
    "hourly_rate": {
      "type": "number",
      "description": "Hourly rate calculated from CTC and working hours"
    },
    "ctc_effective_from": {
      "type": "string",
      "format": "date",
      "description": "Date from which this CTC is effective"
    },
    "timezone": {
      "type": "string",
      "default": "Asia/Kolkata",
      "description": "User's preferred time zone"
    },
    "status": {
      "type": "string",
      "enum": [
        "active",
        "invited",
        "suspended"
      ],
      "default": "active"
    },
    "is_overloaded": {
      "type": "boolean",
      "default": false,
      "description": "System flag: True if user worked >11h for 5 consecutive days"
    },
    "last_login": {
      "type": "string",
      "format": "date-time"
    },
    "is_timesheet_locked": {
      "type": "boolean",
      "default": false,
      "description": "System flag: True if user has >3 missing timesheets in last 7 days"
    },
    "is_overdue_blocked": {
      "type": "boolean",
      "default": false,
      "description": "System flag: True if user has >= 3 overdue tasks"
    },
    "settings": {
      "type": "object",
      "description": "User specific UI preferences"
    },
    "resetPasswordToken": {
      "type": "string",
      "description": "Token for password reset"
    },
    "resetPasswordExpires": {
      "type": "number",
      "description": "Timestamp when the reset token expires"
    }
  },
  "required": [
    "email",
    "password",
    "tenant_id"
  ]
}